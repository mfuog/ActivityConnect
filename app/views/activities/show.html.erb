<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @activity.title %>
</p>

<p>
  <strong>Description:</strong>
  <%= @activity.description %>
</p>

<p>
  <strong>When:</strong>
  <%= @activity.when %>
</p>

<p>
  <strong>Author:</strong>
  <%= @activity.author.first_name %>
</p>

<p>
  <strong>Participants:</strong>
  <ul>
    <% @activity.participants.each do |participant| %>
      <li><%= link_to participant.first_name, participant %></li>
    <% end %>
  </ul>
</p>

<%= link_to "Edit", edit_activity_path(@activity) if @isAuthor %>
<%= link_to "Back", activities_path %>
<% if @isParticipant %>
  <%= button_to "Cancel participation",
                  { controller: :participations,
                    action: :destroy,
                    activity_id: @activity.id },
                  method: :delete %>
<% else %>
  <%= button_to "Join activity!",
                  controller: :participations,
                  action: :create,
                  activity_id: @activity.id %>
<% end %>

<h3>Comments</h3>
<% @comments.each do |comment| %>
  <div>
    <p>
    <%= comment.created_at.to_formatted_s(:long_ordinal) %>
    <br>
    <%= comment.body %>
      <strong><%= link_to comment.commenter.first_name, comment.commenter %>:</strong>
    </p>
  </div>
<% end %>
<%= render "comments/form" %>

<%- disqus_thread %>
